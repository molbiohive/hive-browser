# Hive Browser Configuration
# Copy this file to config.local.yaml and adjust values.
# Select config via: HIVE_CONFIG=config/config.local.yaml

server:
  host: "0.0.0.0"
  port: 8080

database:
  url: "postgresql+asyncpg://hive:hive@localhost:5432/hive"

llm:
  models:
    - provider: "ollama"
      model: "qwen2.5:7b"
      base_url: "http://localhost:11434/v1"
    # - provider: "anthropic"
    #   model: "claude-sonnet-4-20250514"
    #   api_key: "sk-ant-..."
    # - provider: "openai"
    #   model: "gpt-4o"
    #   api_key: "sk-..."
  auto_discover: false          # auto-discover Ollama models at runtime

blast:
  binary: "blastn"

chat:
  max_history_pairs: 20        # LLM conversation memory depth
  auto_save_after: 2           # save chat after N user messages

search:
  columns: [name, size_bp, topology, features]  # fields shown in search results

watcher:
  root: ~/sequences          # directory to watch for sequence files
  recursive: true
  poll_interval: 5

  rules:
    - match: "*.dna"
      action: parse
      parser: sgffp
      extract: [sequence, features, primers, notes]

    - match: "*.rna"
      action: parse
      parser: sgffp
      extract: [sequence, features, primers, notes]

    - match: "*.prot"
      action: parse
      parser: sgffp
      extract: [sequence, features, primers, notes]

    - match: "*.gb"
      action: parse
      parser: biopython
      extract: [sequence, features, description]

    - match: "*.gbk"
      action: parse
      parser: biopython
      extract: [sequence, features, description]

    - match: "*.fasta"
      action: parse
      parser: biopython
      extract: [sequence]

    - match: "*.fa"
      action: parse
      parser: biopython
      extract: [sequence]

    - match: "*.zrt"
      action: parse
      parser: sgffp
      extract: [alignment]

    - match: "*.pdf"
      action: ignore

    - match: "*.docx"
      action: ignore

    - match: "*.png"
      action: ignore

    - match: "*.jpg"
      action: ignore

    - match: ".*"
      action: ignore

    - match: "*"
      action: log
      message: "Unknown file type, skipping"
